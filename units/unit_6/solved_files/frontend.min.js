jQuery(function(o){var n=o(document).find(ywdpd_qty_args.column_product_info_class+" #ywdpd-quantity-table"),d=function(t,n){var d=!1;if((d=t.length?t.parents("#ywdpd-quantity-table"):o(document).find(ywdpd_qty_args.column_product_info_class+" #ywdpd-quantity-table"))&&d.length){var i=!1,a=!1,e=!1;if(d.hasClass("horizontal")?t.hasClass("qty-info")?(i=t,a=d.find("td.qty-price-info").get(t.index()-1),e=d.find("td.qty-discount-info").get(t.index()-1),a=o(a),e=o(e)):t.hasClass("qty-price-info")?(a=t,i=d.find("td.qty-info").get(t.index()-1),e=d.find("td.qty-discount-info").get(t.index()-1),i=o(i),e=o(e)):(e=t,i=d.find("td.qty-info").get(t.index()-1),a=d.find("td.qty-price-info").get(t.index()-1),i=o(i),a=o(a)):t.hasClass("qty-info")?(a=(i=t).parent().find("td.qty-price-info"),e=t.parent().find("td.qty-discount-info")):t.hasClass("qty-price-info")?(i=(a=t).parent().find("td.qty-info"),e=t.parent().find("td.qty-discount-info")):(i=(e=t).parent().find("td.qty-info"),a=t.parent().find("td.qty-price-info")),d.find("td").removeClass("ywdpd_active"),"variable"!==d.data("product_type")){var r="",r=t.length?i.data("formatted_price"):d.data("price_html"),d=i.data("unformatted_price"),s="";if(""!==r){if(o(ywdpd_qty_args.column_product_info_class).parents(".yith-quick-view-content").length)s=".yith-quick-view-content ";s=o(s+ywdpd_qty_args.column_product_info_class);if(!s.find(".woocommerce-variation-price").length)s.find(ywdpd_qty_args.product_price_classes).html(r);else{s=s.find(".woocommerce-variation-price .price");s.html(r)}o(document).trigger("ywdpd_price_html_updated",[r,d])}}if(t.length&&(i.addClass("ywdpd_active"),a.addClass("ywdpd_active"),e.length)&&e.addClass("ywdpd_active"),n){s=i,r=1;if(s.length)r="*"!==s.data("qtymax")&&!ywdpd_qty_args.select_minimum_quantity?s.data("qtymax"):s.data("qtymin");o(document).find("form.cart .qty").val(r)}}},i=function(){var t;"yes"===ywdpd_qty_args.is_default_qty_enabled&&(t=o(document).find("#ywdpd-quantity-table"),("yes"===ywdpd_qty_args.show_minimum_price?t.find("td.qty-price-info").last():t.find("td.qty-price-info").first()).trigger("click"))},a=(o(document).on("click","#ywdpd-quantity-table td",function(t){t.preventDefault(),d(o(this),!0)}),function(){var t,n=parseInt(o(this).val());"yes"===ywdpd_qty_args.is_change_qty_enabled&&0<n&&(t=o(this).parents(ywdpd_qty_args.column_product_info_class).find("#ywdpd-quantity-table").find("td.qty-info").filter(function(){return"*"!==o(this).data("qtymax")?o(this).data("qtymin")<=n&&o(this).data("qtymax")>=n:o(this).data("qtymin")<=n}),d(t,!1))});o(document).on("change","form.cart .qty",a),i(),o(ywdpd_qty_args.variation_form_class).on("check_variations",function(){o(document).off("change","form.cart .qty")}).on("show_variation",function(t,n){var d=o(this).parents(ywdpd_qty_args.column_product_info_class).find(".ywdpd-table-discounts-wrapper");(d=d.length?d:o(this).closest(".ywdpd-table-discounts-wrapper")).replaceWith(n.table_price),i(),o(document).find("form.cart .qty").on("change",a).trigger("change")}).on("reset_data",function(){var t=o(this).parents(ywdpd_qty_args.column_product_info_class).find(".ywdpd-table-discounts-wrapper");t.length||(t=o(this).closest(".ywdpd-table-discounts-wrapper")),"yes"===ywdpd_qty_args.show_variable_table?(t.html(n),i()):t.hide()})});